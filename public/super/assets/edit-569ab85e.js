import{_ as k,k as p,a as r,o as u,b as f,e as l,w as a,d as i,v as h,y as c,h as _}from"./index-517d70fb.js";import{l as y}from"./index-65d942f6.js";/* empty css                                                              */const C={components:{laDialog:y},data(){return{loading:!1,lists:[],StorageEnum:{LOCAL:"local",QINIU:"qiniu",ALIYUN:"aliyun"},formData:{engine:"",bucket:"",access_key:"",secret_key:"",domain:"",region:"",status:0},getStorageInfo:{}}},methods:{open(s){this.formData.engine=s,this.getDetail(),this.$refs.popupRef.open()},async getDetail(){const s=await p.storage.detail({engine:this.formData.engine});for(const o in s)this.formData[o]=s[o]},async handleSubmit(){await p.storage.setup(this.formData),this.$refs.popupRef.close(),this.$emit("success")}}},E={class:"edit-popup"},S={key:0},U={class:"flex-1"},v={class:"flex-1"},R=i("div",{class:"form-tips"}," 请补全http://或https://，例如https://static.cloud.com ",-1);function x(s,o,N,w,e,g){const m=r("el-input"),n=r("el-form-item"),d=r("el-radio"),D=r("el-radio-group"),V=r("el-form"),b=r("la-dialog");return u(),f("div",E,[l(b,{ref:"popupRef",title:"设置存储",async:!0,width:"550px",onConfirm:g.handleSubmit,onClose:s.handleClose},{default:a(()=>[l(V,{ref:"formRef",model:e.formData,"label-width":"120px",rules:s.formRules},{default:a(()=>[e.formData.engine!=="local"?(u(),f("div",S,[l(n,{label:" 存储空间名称",prop:"bucket"},{default:a(()=>[i("div",U,[l(m,{modelValue:e.formData.bucket,"onUpdate:modelValue":o[0]||(o[0]=t=>e.formData.bucket=t),placeholder:"请输入存储空间名称(Bucket)",clearable:""},null,8,["modelValue"])])]),_:1}),l(n,{label:"ACCESS_KEY",prop:"access_key"},{default:a(()=>[l(m,{modelValue:e.formData.access_key,"onUpdate:modelValue":o[1]||(o[1]=t=>e.formData.access_key=t),placeholder:"请输入ACCESS_KEY(AK)",clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"SECRET_KEY",prop:"secret_key"},{default:a(()=>[l(m,{modelValue:e.formData.secret_key,"onUpdate:modelValue":o[2]||(o[2]=t=>e.formData.secret_key=t),placeholder:"请输入SECRET_KEY(SK)",clearable:""},null,8,["modelValue"])]),_:1}),l(n,{label:"空间域名",prop:"domain"},{default:a(()=>[i("div",v,[i("div",null,[l(m,{modelValue:e.formData.domain,"onUpdate:modelValue":o[3]||(o[3]=t=>e.formData.domain=t),placeholder:"请输入空间域名(Domain)",clearable:""},null,8,["modelValue"])]),R])]),_:1}),e.formData.engine==e.StorageEnum.QCLOUD?(u(),h(n,{key:0,label:"REGION",prop:"region"},{default:a(()=>[l(m,{modelValue:e.formData.region,"onUpdate:modelValue":o[4]||(o[4]=t=>e.formData.region=t),placeholder:"请输入region",clearable:""},null,8,["modelValue"])]),_:1})):c("",!0)])):c("",!0),l(n,{label:"状态",prop:"status"},{default:a(()=>[l(D,{modelValue:e.formData.status,"onUpdate:modelValue":o[5]||(o[5]=t=>e.formData.status=t)},{default:a(()=>[l(d,{label:0},{default:a(()=>[_("关闭")]),_:1}),l(d,{label:1},{default:a(()=>[_("开启")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["onConfirm","onClose"])])}const I=k(C,[["render",x]]);export{I as default};
