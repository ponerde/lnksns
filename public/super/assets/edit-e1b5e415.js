import{a as r}from"./index-b87949a0.js";import{l as B}from"./index-296eea2f.js";import{m as s,c as E,a as n,o as N,b as O,e as t,w as o,h as c,n as g}from"./index-0236d453.js";/* empty css                                                              */const z={__name:"edit",emits:["success","close"],setup(S,{expose:b,emit:i}){const p=s(null),f=s(null),u=s("add"),a=s({status:1,cert:"jdjdj.cet"}),w=s([]),x=E(()=>u.value="编辑动态"),y=async()=>{const e=await r.role.list();w.value=e.data},V=async e=>{const l=await r.comment.read({id:e.id});a.value=l.data,a.value.cert="djdjdj",a.value.image="https://oss.lnksns.com/uploads/images/20230829/20230829163119d01868119.webp"},j=(e="add")=>{u.value=e,p.value.open()},_=()=>{i("close")},k=async()=>{var l;await((l=f.value)==null?void 0:l.validate());let e;u.value=="add"?e=await r.comment.create(a.value):e=await r.comment.update(a.value),e.error?g.msgError(e.msg):(_(),i("success"),g.msgSuccess(e.msg))},R=async()=>{_()};return y(),b({open:j,setFormData:V}),(e,l)=>{const C=n("el-input"),v=n("el-form-item"),d=n("el-radio"),h=n("el-radio-group"),D=n("el-form");return N(),O("div",null,[t(B,{ref_key:"dialogRef",ref:p,title:x.value,async:!0,width:"750px",onConfirm:k,onCancel:R},{default:o(()=>[t(D,{ref_key:"formRef",ref:f,model:a.value,"label-width":"84px"},{default:o(()=>[t(v,{label:"内容",prop:"content"},{default:o(()=>[t(C,{type:"textarea",disabled:"",modelValue:a.value.content,"onUpdate:modelValue":l[0]||(l[0]=m=>a.value.content=m),rows:5},null,8,["modelValue"])]),_:1}),t(v,{label:"状态"},{default:o(()=>[t(h,{modelValue:a.value.status,"onUpdate:modelValue":l[1]||(l[1]=m=>a.value.status=m),class:"ml-4"},{default:o(()=>[t(d,{label:0},{default:o(()=>[c("待审核")]),_:1}),t(d,{label:1},{default:o(()=>[c("正常")]),_:1}),t(d,{label:2},{default:o(()=>[c("违法违规")]),_:1}),t(d,{label:3},{default:o(()=>[c("用户删除")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}};export{z as default};
