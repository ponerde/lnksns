import{_ as k,k as x,a as s,q as m,o,b as y,e,w as t,s as u,v as l,h as c}from"./index-0236d453.js";import C from"./edit-b29cebdc.js";import"./index-296eea2f.js";/* empty css                                                              */const S={components:{editPopup:C},data(){return{loading:!1,lists:[]}},created:function(){this.loading=!0,this.getLists()},methods:{async getLists(){const n=await x.storage.list();this.lists=n.data,this.loading=!1},handleSet(n){this.$refs.editRef.open(n)}}},B={class:"storage"};function L(n,D,N,R,r,d){const f=s("el-alert"),_=s("el-card"),a=s("el-table-column"),p=s("el-tag"),h=s("el-button"),g=s("el-table"),b=s("edit-popup"),w=m("perms"),v=m("loading");return o(),y("div",B,[e(_,{class:"border-none",shadow:"never"},{default:t(()=>[e(f,{type:"warning",title:"温馨提示：1.切换存储方式后，需要将资源文件传输至新的存储端；2.请勿随意切换存储方式，可能导致图片无法查看",closable:!1,"show-icon":""})]),_:1}),u((o(),l(_,{class:"m-t-15 border-none",shadow:"never"},{default:t(()=>[e(g,{size:"large",data:r.lists},{default:t(()=>[e(a,{label:"储存方式",prop:"name","min-width":"120"}),e(a,{label:"储存位置",prop:"path","min-width":"160"}),e(a,{label:"状态","min-width":"80"},{default:t(({row:i})=>[i.status==1?(o(),l(p,{key:0},{default:t(()=>[c("开启")]),_:1})):(o(),l(p,{key:1,type:"danger"},{default:t(()=>[c("关闭")]),_:1}))]),_:1}),e(a,{label:"操作","min-width":"80",fixed:"right"},{default:t(({row:i})=>[u((o(),l(h,{type:"primary",link:"",onClick:V=>d.handleSet(i.engine)},{default:t(()=>[c(" 设置 ")]),_:2},1032,["onClick"])),[[w,["setting.storage/setup"]]])]),_:1})]),_:1},8,["data"])]),_:1})),[[v,r.loading]]),e(b,{ref:"editRef",onSuccess:d.getLists},null,8,["onSuccess"])])}const P=k(S,[["render",L]]);export{P as default};
