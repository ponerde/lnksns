import{a as u}from"./index-5e9f0cf2.js";import{l as O}from"./index-65d942f6.js";import{m as r,r as S,c as T,a as s,o as h,b as q,e as a,w as o,h as v,n as g}from"./index-517d70fb.js";/* empty css                                                              */const H={__name:"edit",emits:["success","close"],setup(F,{expose:V,emit:i}){const m=r(null),p=r(null),d=r("add"),t=r({title:"",status:1}),b=S({title:[{required:!0,message:"请输入标题",trigger:"blur"}]}),w=r([]),x=T(()=>d.value=="edit"?"编辑条款":"新增条款"),y=async()=>{const e=await u.role.list();w.value=e.data},R=async e=>{const l=await u.clause.read({id:e.id});t.value=l.data},k=(e="add")=>{d.value=e,m.value.open()},f=()=>{i("close")},C=async()=>{var l;await((l=p.value)==null?void 0:l.validate());let e;d.value=="add"?e=await u.clause.create(t.value):e=await u.clause.update(t.value),e.error?g.msgError(e.msg):(f(),i("success"),g.msgSuccess(e.msg))},D=async()=>{f()};return y(),V({open:k,setFormData:R}),(e,l)=>{const U=s("el-input"),c=s("el-form-item"),B=s("la-editor"),_=s("el-radio"),E=s("el-radio-group"),N=s("el-form");return h(),q("div",null,[a(O,{ref_key:"dialogRef",ref:m,title:x.value,async:!0,width:"750px",onConfirm:C,onCancel:D},{default:o(()=>[a(N,{ref_key:"formRef",ref:p,model:t.value,"label-width":"84px",rules:b},{default:o(()=>[a(c,{label:"标题",prop:"title"},{default:o(()=>[a(U,{modelValue:t.value.title,"onUpdate:modelValue":l[0]||(l[0]=n=>t.value.title=n)},null,8,["modelValue"])]),_:1}),a(c,{label:"内容",prop:"content"},{default:o(()=>[a(B,{modelValue:t.value.content,"onUpdate:modelValue":l[1]||(l[1]=n=>t.value.content=n)},null,8,["modelValue"])]),_:1}),a(c,{label:"状态"},{default:o(()=>[a(E,{modelValue:t.value.status,"onUpdate:modelValue":l[2]||(l[2]=n=>t.value.status=n),class:"ml-4"},{default:o(()=>[a(_,{label:1},{default:o(()=>[v("正常")]),_:1}),a(_,{label:0},{default:o(()=>[v("关闭")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}};export{H as default};
