import{_ as k,j as y,a as o,q as p,o as s,b as x,e,w as t,s as m,v as l,g as c}from"./index-6cdb2e92.js";import C from"./edit-b779087a.js";import"./index-d76bd3bc.js";/* empty css                                                              */const S={components:{editPopup:C},data(){return{loading:!1,lists:[]}},created:function(){this.getList()},methods:{async getList(){const n=await y.storage.list();this.lists=n.data},handleSet(n){this.$refs.editRef.open(n)}}},B={class:"storage"};function L(n,$,D,N,r,u){const f=o("el-alert"),d=o("el-card"),a=o("el-table-column"),_=o("el-tag"),g=o("el-button"),h=o("el-table"),b=o("edit-popup"),w=p("perms"),v=p("loading");return s(),x("div",B,[e(d,{class:"!border-none",shadow:"never"},{default:t(()=>[e(f,{type:"warning",title:"温馨提示：1.切换存储方式后，需要将资源文件传输至新的存储端；2.请勿随意切换存储方式，可能导致图片无法查看",closable:!1,"show-icon":""})]),_:1}),m((s(),l(d,{style:{"margin-top":"15px"},shadow:"never"},{default:t(()=>[e(h,{size:"large",data:r.lists},{default:t(()=>[e(a,{label:"储存方式",prop:"name","min-width":"120"}),e(a,{label:"储存位置",prop:"path","min-width":"160"}),e(a,{label:"状态","min-width":"80"},{default:t(({row:i})=>[i.status==1?(s(),l(_,{key:0},{default:t(()=>[c("开启")]),_:1})):(s(),l(_,{key:1,type:"danger"},{default:t(()=>[c("关闭")]),_:1}))]),_:1}),e(a,{label:"操作","min-width":"80",fixed:"right"},{default:t(({row:i})=>[m((s(),l(g,{type:"primary",link:"",onClick:R=>u.handleSet(i.engine)},{default:t(()=>[c(" 设置 ")]),_:2},1032,["onClick"])),[[w,["setting.storage/setup"]]])]),_:1})]),_:1},8,["data"])]),_:1})),[[v,r.loading]]),e(b,{ref:"editRef",onSuccess:n.getLists},null,8,["onSuccess"])])}const E=k(S,[["render",L]]);export{E as default};
