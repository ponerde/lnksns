import{_ as w,c as x,r as V,a as r,o as k,b as y,d as l,t as p,e as s,w as a,f as S,g as d,h as C,p as I,i as B,j as E,k as N,E as U,u as j,l as A}from"./index-517d70fb.js";const u=c=>(I("data-v-586eb9c3"),c=c(),B(),c),R={class:"login"},z=u(()=>l("div",{class:"left"},[l("div",{class:"img"})],-1)),D={class:"right"},M={class:"login-box"},T=u(()=>l("img",{src:E,alt:"logo",class:"logo"},null,-1)),q={class:"wellcome-title"},F={class:"login-form"},G={class:"rights"},H={__name:"index",setup(c){const m=x(()=>S.state.config),e=V({username:"",password:"",remember:!1}),b=()=>{const t=d.session.get("remember-account");if(t)for(const o in t)e[o]=t[o]},f=async()=>{const t=await N.admin.login(e);t.error?U.error(t.msg):(d.storage.set("token",t.data.token,m.value.jwt.ttl),await j.dispatch("profile"),e.remember?d.session.set("remember-account",e):d.session.remove("remember-account"),A.push("/dashboard"))};return b(),(t,o)=>{const _=r("el-input"),i=r("el-form-item"),g=r("el-checkbox"),v=r("el-button"),h=r("el-form");return k(),y("div",R,[z,l("div",D,[l("div",M,[T,l("div",q,"欢迎您登录"+p(m.value.web_name),1),l("div",F,[s(h,{model:e,size:"large","label-position":"top"},{default:a(()=>[s(i,{label:"用户名"},{default:a(()=>[s(_,{modelValue:e.username,"onUpdate:modelValue":o[0]||(o[0]=n=>e.username=n),placeholder:"输入用户名"},null,8,["modelValue"])]),_:1}),s(i,{label:"密码"},{default:a(()=>[s(_,{type:"password",modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=n=>e.password=n),placeholder:"输入密码"},null,8,["modelValue"])]),_:1}),s(i,null,{default:a(()=>[s(g,{modelValue:e.remember,"onUpdate:modelValue":o[2]||(o[2]=n=>e.remember=n),label:"记住账户"},null,8,["modelValue"])]),_:1}),s(i,null,{default:a(()=>[s(v,{type:"primary",class:"login-btn",onClick:f},{default:a(()=>[C("登录")]),_:1})]),_:1}),l("div",G," ©2023 "+p(m.value.web_name)+" All Rights Reserved. ",1)]),_:1},8,["model"])])])])])}}},K=w(H,[["__scopeId","data-v-586eb9c3"]]);export{K as default};
