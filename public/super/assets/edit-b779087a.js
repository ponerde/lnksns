import{_ as y,j as c,a as r,o as d,b as _,e as o,w as a,d as i,g as p,t as g,v as C,y as D}from"./index-6cdb2e92.js";import{l as S}from"./index-d76bd3bc.js";/* empty css                                                              */const E={components:{laDialog:S},data(){return{loading:!1,lists:[],StorageEnum:{LOCAL:"local",QINIU:"qiniu",ALIYUN:"aliyun",QCLOUD:"qcloud"},formData:{engine:"",bucket:"",access_key:"",secret_key:"",domain:"",region:"",status:0},getStorageInfo:{}}},methods:{open(s){this.formData.engine=s,this.getDetail(),this.$refs.popupRef.open()},async getDetail(){const s=await c.storage.detail({engine:this.formData.engine});for(const l in s)this.formData[l]=s[l]},async handleSubmit(){await c.storage.setup(this.formData),this.$refs.popupRef.close(),this.$emit("success")}}},v={class:"edit-popup"},U={class:"form-tips"},R={key:0},x={class:"flex-1"},I={class:"flex-1"},N=i("div",{class:"form-tips"}," 请补全http://或https://，例如https://static.cloud.com ",-1);function w(s,l,K,A,e,b){const u=r("el-radio"),n=r("el-form-item"),m=r("el-input"),V=r("el-radio-group"),k=r("el-form"),h=r("la-dialog");return d(),_("div",v,[o(h,{ref:"popupRef",title:"设置存储",async:!0,width:"550px",onConfirm:b.handleSubmit,onClose:s.handleClose},{default:a(()=>[o(k,{ref:"formRef",model:e.formData,"label-width":"120px",rules:s.formRules},{default:a(()=>[o(n,{label:"存储方式",prop:"engine"},{default:a(()=>{var t;return[i("div",null,[o(u,{"model-value":""},{default:a(()=>{var f;return[p(g((f=e.getStorageInfo)==null?void 0:f.name),1)]}),_:1}),i("div",U,g((t=e.getStorageInfo)==null?void 0:t.tips),1)])]}),_:1}),e.formData.engine!=="local"?(d(),_("div",R,[o(n,{label:" 存储空间名称",prop:"bucket"},{default:a(()=>[i("div",x,[o(m,{modelValue:e.formData.bucket,"onUpdate:modelValue":l[0]||(l[0]=t=>e.formData.bucket=t),placeholder:"请输入存储空间名称(Bucket)",clearable:""},null,8,["modelValue"])])]),_:1}),o(n,{label:"ACCESS_KEY",prop:"access_key"},{default:a(()=>[o(m,{modelValue:e.formData.access_key,"onUpdate:modelValue":l[1]||(l[1]=t=>e.formData.access_key=t),placeholder:"请输入ACCESS_KEY(AK)",clearable:""},null,8,["modelValue"])]),_:1}),o(n,{label:"SECRET_KEY",prop:"secret_key"},{default:a(()=>[o(m,{modelValue:e.formData.secret_key,"onUpdate:modelValue":l[2]||(l[2]=t=>e.formData.secret_key=t),placeholder:"请输入SECRET_KEY(SK)",clearable:""},null,8,["modelValue"])]),_:1}),o(n,{label:"空间域名",prop:"domain"},{default:a(()=>[i("div",I,[i("div",null,[o(m,{modelValue:e.formData.domain,"onUpdate:modelValue":l[3]||(l[3]=t=>e.formData.domain=t),placeholder:"请输入空间域名(Domain)",clearable:""},null,8,["modelValue"])]),N])]),_:1}),e.formData.engine==e.StorageEnum.QCLOUD?(d(),C(n,{key:0,label:"REGION",prop:"region"},{default:a(()=>[o(m,{modelValue:e.formData.region,"onUpdate:modelValue":l[4]||(l[4]=t=>e.formData.region=t),placeholder:"请输入region",clearable:""},null,8,["modelValue"])]),_:1})):D("",!0)])):D("",!0),o(n,{label:"状态",prop:"status"},{default:a(()=>[o(V,{modelValue:e.formData.status,"onUpdate:modelValue":l[5]||(l[5]=t=>e.formData.status=t)},{default:a(()=>[o(u,{label:0},{default:a(()=>[p("关闭")]),_:1}),o(u,{label:1},{default:a(()=>[p("开启")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["onConfirm","onClose"])])}const O=y(E,[["render",w]]);export{O as default};
